<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Norskhjelp</title>
	<link rel="icon" href="potato.png" type="image/x-icon">
	<style>
		body {
			font-family: Arial nova, sans-serif;
			background-color: #f3f7e1;
			margin: 0;
			padding: 20px;
		}

		h1 {
			color: #333;
		}

		p {
			color: #666;
		}
        ul {
            color: #666;
        }

		.highlight {
			background-color: yellow;
		}

		.banner-flag {
			max-width: 100px;
		}

		.header-background {
			background-color: #cccccc;
			display: flex;
		}

		.header-half {
			width: 50%;
		}
        .text {
            width: 40%;
        }

        .flyer {
            position: absolute;
            animation: rotate 2s linear infinite;
        }
        @keyframes rotate {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
	</style>
</head>

<body>
	<div class="header-background">
		<div class="header-half">
			<h1>Det STORE potetspillet!!</h1>
			<p></p>
            <p>G√• tilbake til <a href="./index.html">forsiden</a></p>
		</div> 
		<div class="header-half">
			<img class="banner-flag" src="potato.png" />
		</div>
	</div>
	<div id="farmerpen">


    </div>
    <div id="potatofield">

    </div>
    <div>
        <p><strong>M√•let med spillet</strong></p>
        <p>Du m√• mate b√∏ndene med riktig mengde poteter. Hvis de f√•r for lite mat, sulter de ihjel. Hvis de f√•r for mye mat, d√∏r de av livsstilssykdommer. Hver bonde b√∏r f√• tre poteter hver. Du trykker p√• en knapp for √• legge til poteter, og du trykker p√• "mat b√∏ndene" n√•r du er klar.</p>
    </div>
    <div>
        <p id="result"></p>
    </div>
    <div>
        <button id="startbutton">Start</button> 
        <button id="potatobutton">Legg til poteter</button>
        <button id="matb√∏ndene">Mat b√∏ndene!</button>
    </div>
</body>

</html>
<script lang="javascript">
        const flyer = document.getElementById('potatofield');
        const speed = 2; // Speed of movement

        let x = 0;
        let y = 0;
        let directionX = 1;
        let directionY = 1;

        function move() {
            const rect = flyer.getBoundingClientRect();

            // Change direction if hitting the borders
            if (rect.right >= window.innerWidth || rect.left <= 0) {
                directionX *= -1;
            }
            if (rect.bottom >= window.innerHeight || rect.top <= 0) {
                directionY *= -1;
            }

            // Update position
            x += directionX * speed;
            y += directionY * speed;

            flyer.style.left = x + 'px';
            flyer.style.top = y + 'px';

            requestAnimationFrame(move);
        }



    let numFarmers=0;
    let numPotatoes=0;

    function getRandomInt(min, max) {
        const minCeiled = Math.ceil(min);
        const maxFloored = Math.floor(max);
        return Math.floor(Math.random() * (maxFloored - minCeiled) + minCeiled); // The maximum is exclusive and the minimum is inclusive
    }


    function startGame(){
        // To do: Determine number of farmers randomly
        // To do: Show that number of farmers
        const randomNumber = getRandomInt(1, 11);
        console.log(randomNumber)
        for(let i=0; i<randomNumber; i++){
            numFarmers = numFarmers+1;
            console.log(`${i}üßë‚Äçüåæ`)
            document.getElementById("farmerpen").append(
                "üßë‚Äçüåæ"
            )
        }
        
    }


    function addPotato(){
        document.getElementById("potatofield").append(
            "ü•î"
        )
        numPotatoes = numPotatoes+1;

    }

    function feedFarmers(){
        //To do: Count farmers and potatoes
        //To do: if you have three potatoes per farmer = win yay and if you dont you are a loesr
        if(numPotatoes / 3 === numFarmers){
            document.getElementById("result").append(
                "Du vant! Hurra!"
            )
            document.getElementById("potatofield").className = "flyer"
            move();
        } else {
            document.getElementById("result").append(
                "Buuuuu"
            )
        }
    }

    document.getElementById("startbutton").onclick = startGame;
    document.getElementById("potatobutton").onclick = addPotato;
    document.getElementById("matb√∏ndene").onclick = feedFarmers; 
</script>